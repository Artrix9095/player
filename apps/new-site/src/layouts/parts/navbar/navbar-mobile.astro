---
import clsx from 'clsx';
import { NAV_MOBILE_MAX_WIDTH_QUERY } from '../../../stores/media-query';
import ColorSchemeSwitch from '../color-scheme-switch.svelte';
import Logo from '../logo.astro';
import SocialLink from '../social-link.astro';
import NavMobileItems from './menus/mobile/nav-mobile-items.astro';
import NavMobilePopover from './menus/mobile/nav-mobile-popover.svelte';
import type { NavItem } from './navigation';

export interface Props {
  items: NavItem[];
}

const { items } = Astro.props;
---

<div
  class={clsx(
    'nav-lg:hidden px-4 py-4',
    'mx-auto h-[var(--navbar-height)] w-full max-w-[var(--navbar-max-width)]',
    'flex-col items-center justify-center z-40',
  )}
>
  <div class="flex w-full items-center">
    <a class="mr-12" href="/" aria-label="Go Home">
      <Logo />
    </a>

    <div class="flex-1"></div>

    <div class="flex items-center">
      <SocialLink class="mr-1" type="twitter" />
      <SocialLink class="mr-1" type="gitHub" />
      <NavMobilePopover client:media={NAV_MOBILE_MAX_WIDTH_QUERY}>
        <NavMobileItems {items} />
        <div class="mt-2 px-4 flex items-start">
          <ColorSchemeSwitch client:media={NAV_MOBILE_MAX_WIDTH_QUERY} />
        </div>
      </NavMobilePopover>
    </div>
  </div>
</div>
